<% if flash.present? %>
  <div class="flash-stack pointer-events-none fixed inset-x-0 z-[45] mx-auto max-w-screen-md px-4 space-y-2" style="--flash-visible-top: calc(var(--header-offset, 4.5rem) + 0.75rem);">
    <% flash.each do |key, message| %>
      <% next if message.blank? %>
      <% css =
        case key.to_sym
        when :notice, :success then "bg-emerald-100 text-emerald-800"
        when :alert,  :error   then "bg-rose-100 text-rose-800"
        else                    "bg-slate-100 text-slate-800"
        end %>
      <p role="status" aria-live="polite"
         class="flash-message pointer-events-auto rounded-xl px-4 py-2 shadow <%= css %>">
        <%= message %>
      </p>
    <% end %>
  </div>
<% end %>
